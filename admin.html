<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ููุญุฉ ุชุญูู ุงููุดุฑู - JSON Generator</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* ุชูุณููุงุช ุฎุงุตุฉ ุจุตูุญุฉ ุงูุฃุฏูู */
        .admin-container {
            max-width: 900px;
            margin: 50px auto;
            padding: 30px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            direction: rtl;
            text-align: right;
        }
        .admin-form input, .admin-form textarea, .admin-form button, .admin-form select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: var(--font-family);
        }
        .output-box {
            background: #eee;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-break: break-all;
            margin-top: 20px;
            direction: ltr; /* ูุนุฑุถ ููุฏ JSON ุจุดูู ุตุญูุญ */
            text-align: left;
        }
        .admin-warning {
            color: var(--error-color);
            margin-bottom: 15px;
            font-weight: 700;
        }
    </style>
</head>
<body>

<div class="admin-container">
    <h2>๐ ููุญุฉ ุชุญูู ุงููุดุฑู (Admin JSON Generator)</h2>
    <p class="admin-warning">ููู: ูุง ููุฌุฏ ูุงุนุฏุฉ ุจูุงูุงุช. ูุฐุง ุงููููุฐุฌ ูููุฏ ููุฏ JSONุ ุงูุฐู **ูุฌุจ ุนููู ูุณุฎู ููุตูู ูุฏูููุง** ูู ููู `data.json` ุนูู GitHub.</p>

    <div id="auth-panel">
        <p>ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ููุฏุฎูู:</p>
        <input type="password" id="admin-password" placeholder="ูููุฉ ุงููุฑูุฑ">
        <button onclick="checkPassword()" class="btn primary-btn">ุฏุฎูู</button>
        <p id="auth-message" style="color: var(--error-color);"></p>
    </div>

    <div id="project-form-panel" style="display: none;">
        
        <h2>โ ุฅุถุงูุฉ ูุดุฑูุน ุงุฎุชุจุงุฑ ุฌุฏูุฏ</h2>
        <form id="project-form" class="admin-form">
            <input type="text" id="p-id" placeholder="ID ูุฑูุฏ ูููุดุฑูุน (ูุซู project3)" required>
            <input type="text" id="p-img" placeholder="ูุณุงุฑ ุงูุตูุฑุฉ (ูุซู images/project3.png)" required>
            <input type="text" id="p-link" placeholder="ุฑุงุจุท ุงููุดุฑูุน ุนูู GitHub" required>
            <input type="text" id="p-tags" placeholder="ุงููุณูู ููุตููุฉ ุจูุงุตูุฉ (,): #Tag1, #Tag2">
            
            <input type="text" id="p-ar-title" placeholder="ุงูุนููุงู (ุนุฑุจู)" required>
            <textarea id="p-ar-desc" placeholder="ุงููุตู (ุนุฑุจู)" required></textarea>
            
            <input type="text" id="p-en-title" placeholder="ุงูุนููุงู (ุฅูุฌููุฒู)" required>
            <textarea id="p-en-desc" placeholder="ุงููุตู (ุฅูุฌููุฒู)" required></textarea>
            
            <button type="submit" class="btn secondary-btn">ุชูููุฏ ููุฏ JSON ูููุดุฑูุน</button>
        </form>

        <h3>ููุฏ JSON ูุชุญุฏูุซ ูุงุฆูุฉ `projects_list`:</h3>
        <div id="json-output" class="output-box"></div>
        <button onclick="copyJson()" class="btn primary-btn" style="margin-top: 10px;">ูุณุฎ ุงูููุฏ</button>

        <hr style="margin: 40px 0;">

        <h2>โ๏ธ ุชุญุฏูุซ ุงููุตูุต ุงูุนุงูุฉ (Translation Updater)</h2>
        <form id="text-update-form" class="admin-form">
            <p>ูุชุนุฏูู ุฃู ูุต ูู ุงูุตูุญุฉ (ุงูุนููุงูุ ุงููุตูุ ุฅูุฎ).</p>
            <input type="text" id="t-key" placeholder="ููุชุงุญ ุงููุต (data-translate='...') (ูุซุงู: about_text)" required>
            <select id="t-lang" required style="margin-bottom: 15px;">
                <option value="">ุงุฎุชุฑ ุงููุบุฉ</option>
                <option value="ar">ุงูุนุฑุจูุฉ (ar)</option>
                <option value="en">ุงูุฅูุฌููุฒูุฉ (en)</option>
            </select>
            <textarea id="t-new-value" placeholder="ุงููุต ุงูุฌุฏูุฏ" rows="4" required></textarea>
            <button type="submit" class="btn secondary-btn">ุชูููุฏ ููุฏ ุชุญุฏูุซ ุงูุชุฑุฌูุฉ</button>
        </form>

        <h3>ููุฏ ุชุญุฏูุซ `data.json` ููุชุฑุฌูุฉ (ุงูุตูู ุฏุงุฎู ูุณู AR ุฃู EN):</h3>
        <div id="json-output-text" class="output-box"></div>
        <button onclick="copyJsonText()" class="btn primary-btn" style="margin-top: 10px;">ูุณุฎ ููุฏ ุงูุชุฑุฌูุฉ</button>

        <hr style="margin: 40px 0;">

        <h2>๐ผ๏ธ ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (General Settings)</h2>
        <form id="general-settings-form" class="admin-form">
            <p>ูุชุญุฏูุซ ุงูุฑูุงุจุท ุงูุซุงุจุชุฉ ูุงูุตูุฑ ุงูุฑุฆูุณูุฉ (ุชุฐูุฑ ูุถุน ุงูุตูุฑ ูู ูุฌูุฏ `images/`).</p>
            
            <input type="text" id="gs-profile-img" placeholder="ูุณุงุฑ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ (images/my_photo.jpg)">
            <input type="text" id="gs-cv-link" placeholder="ุฑุงุจุท ุชุญููู ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ (CV link)">
            
            <h4>ุฑูุงุจุท ุงูุชูุงุตู ุงูุงุฌุชูุงุนู (Social Links)</h4>
            <input type="text" id="gs-linkedin" placeholder="ุฑุงุจุท LinkedIn (https://...)">
            <input type="text" id="gs-github" placeholder="ุฑุงุจุท GitHub (https://...)">
            <input type="email" id="gs-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (mailto:your.email@...)">
            
            <button type="submit" class="btn secondary-btn">ุชูููุฏ ููุฏ ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ</button>
        </form>

        <h3>ููุฏ JSON ูุชุญุฏูุซ ูุณู `global_settings`:</h3>
        <div id="json-output-settings" class="output-box"></div>
        <button onclick="copyJsonSettings()" class="btn primary-btn" style="margin-top: 10px;">ูุณุฎ ููุฏ ุงูุฅุนุฏุงุฏุงุช</button>

    </div>
</div>

<script>
    // ** ูููุฉ ุงููุฑูุฑ **: ูู ุจุชุบููุฑ ูุฐู ุงููููุฉ ุฅูู ูููุฉ ูุฑูุฑ ูููุฉ!
    const ADMIN_PASS = '123456'; 

    // ูุธููุฉ ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
    function checkPassword() {
        const input = document.getElementById('admin-password').value;
        const authMessage = document.getElementById('auth-message');
        if (input === ADMIN_PASS) {
            document.getElementById('auth-panel').style.display = 'none';
            document.getElementById('project-form-panel').style.display = 'block';
        } else {
            authMessage.textContent = 'ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉ.';
        }
    }

    // A) ููุทู ุชูููุฏ ููุฏ ุงููุดุงุฑูุน
    document.getElementById('project-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const id = document.getElementById('p-id').value.trim();
        const tags = document.getElementById('p-tags').value.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);
        const tagsString = tags.map(t => `"${t}"`).join(', ');

        const newProject = {
            id: id,
            img: document.getElementById('p-img').value.trim(),
            link: document.getElementById('p-link').value.trim(),
            tags: tags,
            // ุชุฃููู ุงููุตูุต ูู ุงูุงูุชุจุงุณุงุช ุงููุฒุฏูุฌุฉ ูุชุฌูุจ ูุณุฑ JSON
            ar_title: document.getElementById('p-ar-title').value.trim().replace(/"/g, '\\"'),
            ar_desc: document.getElementById('p-ar-desc').value.trim().replace(/"/g, '\\"'),
            en_title: document.getElementById('p-en-title').value.trim().replace(/"/g, '\\"'),
            en_desc: document.getElementById('p-en-desc').value.trim().replace(/"/g, '\\"')
        };

        const jsonOutput = 
`{
  "id": "${newProject.id}",
  "img": "${newProject.img}",
  "link": "${newProject.link}",
  "tags": [${tagsString}],
  "ar_title": "${newProject.ar_title}",
  "ar_desc": "${newProject.ar_desc}",
  "en_title": "${newProject.en_title}",
  "en_desc": "${newProject.en_desc}"
}`;
        
        document.getElementById('json-output').textContent = jsonOutput.trim();
        alert('ุชู ุชูููุฏ ููุฏ ุงููุดุฑูุน! ุงูุตูู ุจูู ุงูุฃููุงุณ ุงููุฑุจุนุฉ [ ] ุฏุงุฎู ูุตูููุฉ "projects_list" ูู ููู data.json.');
    });
    
    // ูุธููุฉ ูุณุฎ ููุฏ ุงููุดุฑูุน
    function copyJson() {
        const output = document.getElementById('json-output');
        navigator.clipboard.writeText(output.textContent.trim()).then(() => {
            alert('ุชู ูุณุฎ ููุฏ ุงููุดุฑูุน ุจูุฌุงุญ!');
        });
    }

    // B) ููุทู ุชูููุฏ ููุฏ ุชุญุฏูุซ ุงููุตูุต ุงูุนุงูุฉ (ุงูุชุฑุฌูุฉ)
    document.getElementById('text-update-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const key = document.getElementById('t-key').value.trim();
        const lang = document.getElementById('t-lang').value;
        const newValue = document.getElementById('t-new-value').value.trim().replace(/"/g, '\\"'); 

        const jsonOutput = 
`"${key}": "${newValue}"`;
        
        document.getElementById('json-output-text').textContent = jsonOutput.trim();
        
        alert(`ุชู ุชูููุฏ ุงูููุฏ ููุบุฉ (${lang}) ูุงูููุชุงุญ (${key}). ุงูุณุฎู ูุงูุตูู ูุฏูููุง ูู ุงููุณู ุงูุฎุงุต ุจู ("${lang}") ูู ููู data.json. ุงุณุชุจุฏู ุงููููุฉ ุงููุฏููุฉ ุจููุณ ุงูููุชุงุญ.`);
    });
    
    // ูุธููุฉ ูุณุฎ ููุฏ ุงูุชุฑุฌูุฉ
    function copyJsonText() {
        const output = document.getElementById('json-output-text');
        navigator.clipboard.writeText(output.textContent.trim()).then(() => {
            alert('ุชู ูุณุฎ ููุฏ ุงูุชุฑุฌูุฉ ุจูุฌุงุญ!');
        });
    }

    // C) ููุทู ุชูููุฏ ููุฏ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
    document.getElementById('general-settings-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const settings = {
            profile_img_path: document.getElementById('gs-profile-img').value.trim(),
            cv_link: document.getElementById('gs-cv-link').value.trim(),
            linkedin_link: document.getElementById('gs-linkedin').value.trim(),
            github_link: document.getElementById('gs-github').value.trim(),
            email_link: document.getElementById('gs-email').value.trim()
        };

        const jsonOutput = 
`"global_settings": {
  "profile_img_path": "${settings.profile_img_path}",
  "cv_link": "${settings.cv_link}",
  "linkedin_link": "${settings.linkedin_link}",
  "github_link": "${settings.github_link}",
  "email_link": "${settings.email_link}"
}`;
        
        document.getElementById('json-output-settings').textContent = jsonOutput.trim();
        
        alert(`ุชู ุชูููุฏ ููุฏ ุงูุฅุนุฏุงุฏุงุช. ูู ุจูุณุฎู ููุตูู ูุฏูููุง ูุงุณุชุจุฏุงู ุงููุณู ุจุงููุงูู ูู ููู data.json.`);
    });

    // ูุธููุฉ ูุณุฎ ููุฏ ุงูุฅุนุฏุงุฏุงุช
    function copyJsonSettings() {
        const output = document.getElementById('json-output-settings');
        navigator.clipboard.writeText(output.textContent.trim()).then(() => {
            alert('ุชู ูุณุฎ ููุฏ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!');
        });
    }
</script>
</body>
</html>
